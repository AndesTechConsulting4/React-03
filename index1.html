<!DOCTYPE html>
<html lang="ru">

<head>
    <title> 1st React App </title>
    <meta charset="utf-8">
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.js"> </script>
</head>

<body>

    <div id="react1"> </div>
    <div id="react2"> </div>
    <div id="react3"> </div>

<script type="text/babel">
'use strict'

//class Button extends React.PureComponent
class Button extends React.Component
{
    state = {counter: 0, data : ''};


render(){
     console.log("++ render");
     return <button style={{color:this.props.color}}
onClick={this.click} > Press {this.state.counter} </button>;} 

click = () => {
    console.log("clicked!");
    this.setState( (st) => {
        return {...st, counter: st.counter + 1};
    } )
}

shouldComponentUpdate(nextProps, nextState)
{
  console.log("scu (next state): ", nextState);
  console.log("scu (prev state): ", this.state);

  if(this.state.counter != nextState.counter) return true;

  return false;

}


componentDidUpdate(){
    console.log('!!! was updated: ', this);
}

componentWillUpdate(){
    console.log('!!! will be updated: ', this);
}

componentWillMount(){
 console.log('++ will mount: ', this);

}

componentDidMount(){
 console.log('-- did mount: ' + this);

}
}

ReactDOM.render(<Button color="red"/>,document.getElementById('react2'));

</script>

</body>

</html>